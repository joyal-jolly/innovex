<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Showcase</title>
    <link rel="stylesheet" href="eventstyle.css">
    
</head>
<body>
    <nav>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </div>
  </nav>
    <div class="container">
        <header>
            <div class="title-container">
                <h1 class="animated-title">EVENTS</h1>
            </div>
            <p class="subtitle">join with us.</p>
            <a id="protocol" href="protocol.html">General protocols</a>
            <div class="scroll-indicator">
                <i class="fas fa-chevron-down" ></i> Scroll down<br>
            </div>
        </header>
        
        <section class="events-section" id="events-section">
            <h2 class="section-title">Upcoming Events</h2>
            
            <div class="events-grid">
                <!-- Event boxes will be generated by JavaScript -->
            </div>
        </section>
        
        <footer>
            <p>Department of data science |  innovex </p>
        </footer>
    </div>

    <script>
        const events = [
            {
                id: 1,
                name: "BLIND CODING(School Edition) <br>REG FEE:Free",
                date: "JAN-23: 1.00 PM , 2026",
                image: "images/blindcoding.jpeg",
                page: "blindcoding.html"
            },
             {
                id: 2,
                name: "COLLOQUIUM(School Edition) <br>REG FEE:Free",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/colo.png",
                page: "coloq.html"
            },
            {
                id: 3,
                name: "CODE RELAY(Team) <br>REG FEE: 200",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/coderelay.png",
                page: "coderelay.html"
            },
            {
                id: 4,
                name: "REVERSE CODING <br>REG FEE: 100",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/reversecode.jpeg",
                page: "reverse.html"
            },
            {
                id: 5,
                name: "VIRTUAL QUEST  <br>REG FEE: 100",
                date: "JAN-23: 12.00 PM , 2026",
                image: "images/virtual.jpeg",
                page: "virtual.html"
            },
            {
                id: 6,
                name: "ALGORITHM ARENA <br>REG FEE: 100",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/algorithmarena.jpeg",
                page: "algorithm.html"
            },
            {
                id: 7,
                name: "GRANDMASTER'S GAMBIT<br>REG FEE: 50",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/chess.jpeg",
                page: "chess.html"
            },
            {
                id: 8,
                name: "DROP. LOOT. DOMINATE(BGMI) <br>REG FEE: 100(Team)",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/pubg.jpeg",
                page: "bgmi.html"
            },
            {
                id: 9,
                name: "TOTAL FOOTBAL<br>REG FEE: 50",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/pes.jpeg",
                page: "pes.html"
            },
            {
                id: 10,
                name: "VISION-X (Team) <br>REG FEE: 200",
                date: "JAN-23: 11.00 AM , 2026",
                image: "images/reel.png",
                page: "reel.html"
            }, {
                id: 10,
                name: "RYTHMAX<br>REG FEE: 100",
                date: "JAN-23: 2.00 PM , 2026",
                image: "images/dance.png",
                page: "dance.html"
            }

            
        ];
        
        // DOM elements
    const eventsGrid = document.querySelector('.events-grid');
    const sectionTitle = document.querySelector('.section-title');
    
    // Track scroll direction and previous scroll position
    let lastScrollTop = 0;
    let scrollDirection = 'down';
    
    // Function to create event boxes
    function createEventBoxes() {
        events.forEach(event => {
            const eventBox = document.createElement('div');
            eventBox.className = 'event-box';
            eventBox.dataset.id = event.id;
            
            eventBox.innerHTML = `
                <div class="click-indicator">Click to view details</div>
                <img src="${event.image}" alt="${event.name}" class="event-image">
                <div class="event-info">
                    <h3 class="event-name">${event.name}</h3>
                    <div class="event-date">
                        <i class="far fa-calendar-alt"></i>
                        <span>${event.date}</span>
                    </div>
                </div>
            `;
            
            // Add click event to navigate to another page
            eventBox.addEventListener('click', function() {
                window.location.href = event.page;
            });
            
            eventsGrid.appendChild(eventBox);
        });
    }
    
   // Function to check if element is in viewport (with better mobile support)
function isInViewport(element, threshold = 0.3) {
    const rect = element.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    
    // For mobile/small screens, use a more lenient calculation
    const isMobile = window.innerWidth <= 768;
    const adjustedThreshold = isMobile ? 0.1 : threshold; // Use smaller threshold on mobile
    
    // Calculate visible height of the element
    const elementVisibleHeight = Math.min(rect.bottom, windowHeight) - Math.max(rect.top, 0);
    const elementHeight = rect.height;
    
    // Element is in viewport if enough of it is visible
    if (elementVisibleHeight <= 0) return false;
    
    // Calculate what percentage of the element is visible
    const visiblePercentage = elementVisibleHeight / elementHeight;
    
    // Consider element in viewport if enough of it is visible
    return visiblePercentage >= adjustedThreshold;
}

// Function to check if element is completely out of viewport (scrolled past)
function isOutOfViewport(element, direction = 'up') {
    const rect = element.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    
    // Add a buffer for smoother transitions
    const buffer = 50;
    
    if (direction === 'up') {
        // For scroll up: element is completely below the viewport with buffer
        return rect.top > windowHeight + buffer;
    } else {
        // For scroll down: element is completely above the viewport with buffer
        return rect.bottom < -buffer;
    }
}
    
    // Function to handle scroll animations
   // Function to handle scroll animations
function handleScrollAnimations() {
    const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    // Determine scroll direction
    if (currentScrollTop > lastScrollTop) {
        scrollDirection = 'down';
    } else {
        scrollDirection = 'up';
    }
    lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop;
    
    // Section title animation - always show if in viewport at all
    const titleRect = sectionTitle.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    
    if (titleRect.top < windowHeight && titleRect.bottom > 0) {
        sectionTitle.classList.add('visible');
    } else if (scrollDirection === 'up' && titleRect.bottom < 0) {
        sectionTitle.classList.remove('visible');
    }
    
    // Event boxes animation - simpler logic for mobile
    const eventBoxes = document.querySelectorAll('.event-box');
    const isMobile = window.innerWidth <= 768;
    
    eventBoxes.forEach(box => {
        const rect = box.getBoundingClientRect();
        const boxHeight = rect.height;
        const buffer = isMobile ? boxHeight * 0.3 : boxHeight * 0.2; // Smaller buffer on mobile
        
        // Check if box is in viewport
        const isInView = rect.top < windowHeight - buffer && rect.bottom > buffer;
        
        if (isInView) {
            // Show box when in viewport
            box.classList.add('visible');
            box.classList.remove('hide-up', 'hide-down');
        } else {
            // Hide box when out of view
            if (scrollDirection === 'up' && rect.bottom < buffer) {
                box.classList.remove('visible');
                box.classList.add('hide-up');
            } else if (scrollDirection === 'down' && rect.top > windowHeight - buffer) {
                box.classList.remove('visible');
                box.classList.add('hide-down');
            }
        }
    });
}
    
    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
        // Create event boxes
        createEventBoxes();
        
        // Add CSS for hide animations
        const style = document.createElement('style');
        style.textContent = `
            .event-box.hide-up {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
                transition: transform 0.6s ease-out, opacity 0.6s ease-out;
            }
            
            .event-box.hide-down {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
                transition: transform 0.6s ease-out, opacity 0.6s ease-out;
            }
            
            .section-title:not(.visible) {
                opacity: 0;
                transform: translateY(30px);
                transition: opacity 0.8s, transform 0.8s;
            }
        `;
        document.head.appendChild(style);
        
        // Initial check for animations
        handleScrollAnimations();
        
        // Add scroll event listener with debouncing for performance
        let scrollTimeout;
        window.addEventListener('scroll', function() {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(handleScrollAnimations, 10);
        });
        
        // Add some delay to the title for better effect
        setTimeout(() => {
            document.querySelector('.subtitle').style.opacity = 1;
        }, 1000);
    });

    // Check if URL has #events-section and scroll to it
document.addEventListener('DOMContentLoaded', function() {
    // Check if the URL contains the hash
    if (window.location.hash === '#events-section') {
        // Wait a bit for page to fully load
        setTimeout(() => {
            const eventsSection = document.getElementById('events-section');
            if (eventsSection) {
                // Smooth scroll to the events section
                eventsSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
                
                // Optional: Add highlight effect
                eventsSection.style.transition = 'all 0.5s';
                eventsSection.style.backgroundColor = 'rgba(134, 168, 231, 0.1)';
                eventsSection.style.boxShadow = '0 0 30px rgba(134, 168, 231, 0.3)';
                
                // Remove highlight after 2 seconds
                setTimeout(() => {
                    eventsSection.style.backgroundColor = '';
                    eventsSection.style.boxShadow = '';
                }, 2000);
            }
        }, 500); // Delay to ensure page is loaded
    }
});

    
</script>
    </script>
</body>
</html>